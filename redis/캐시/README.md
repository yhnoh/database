## 캐시

- 캐시란 원본 데이터를 미리 복사해 놓은 임시 저장소를 의미한다.
- 캐시를 사용하는 이유는 사용자 요청으로 매번 원본 데이터를 가져올 때 시간이 오래 걸리는 상황에서, 원본 데이터를 미리 복사하여 캐시에서 데이터를 가져오게되면 데이터를 가져오는 시간을 단축시킬 수 있다.
- 때문에 캐시를 활용하여 성능을 향상시키기 위해서는 아래 조건들을 고려해봐야한다.
  - 원본 데이터에서 데이터를 가져오는 시간보다 캐시에서 데이터를 가져오는 시간이 짧아야 한다.
  - 사용자 요청이 잦은 데이터를 캐싱해야한다.
  - 데이터 변경이 잦은 데이터는 캐싱하지 않는 것이 좋다. 원본 데이터의 변경이 잦을 경우 

### 캐싱 전략
- 캐싱 전략은 캐시를 어떻게 활용할 것인지에 대한 방법론을 의미한다. 캐싱 전략은 크게 두 가지로 나눌 수 있다.
- 읽기 전략은 캐시와 원본 데이터 간에 상호작용을 통해서 ***언제 원본 데이터를 캐시에 저장하고 캐시에서 데이터를 반환할지를 결정하는 방법론***이다. 
- 쓰기 전략은 원본 데이터와 캐시 데이터를 일치시키기 위한 방법론으로 ***데이터간의 불일치(캐시 불일치: Cache Inconsistency)를 방지하기 위한 전략***이다.

#### Look Aside (Cache Aside)
- 캐시에서 데이터를 먼저 조회하고, 캐시에 데이터가 없을 경우 (캐시 미스: Cache Miss) 원본 데이터에서 데이터를 가져와 캐시에 저장하는 방식이다. 만약 캐시에 데이터가 있다면 캐시에서 데이터를 반환(캐시 히트: Cache Hit)한다. 이를 통해서 애플리케이션의 성능을 향상시킬 수 있다.

#### Write Through
- 데이터를 수정할 때 원본 데이터와 캐시 데이터를 동시에 수정하는 방식이다.

### Write Behind
- 데이터를 수정할때 캐시 데이터를 먼저 수정한 후, 원본 데이터를 비동기적으로 수정하는 방식이다.

#### 읽기 전략 (look aside)
- 읽기 전략은 캐시에서 데이터를 먼저 조회하고, 캐시에 데이터가 없을 경우 원본 데이터에서 데이터를 가져와 캐시에 저장하는 방식이다. 만약 캐시에 데이터가 있다면 캐시에서 데이터를 반환한다.
  > 캐시 히트: 캐시에서 데이터를 찾았을때
  > 캐시 미스: 캐시에서 데이터를 찾지 못했을때
- 이 전략은 캐시가 비어있을 때만 원본 데이터에 접근하므로, 캐시가 자주 사용되는 경우 성능을 크게 향상시킬 수 있다.


## 레디스는 왜 캐시로 활용되는가?
- 레디스는 인메모리 데이터 저장소로써 관계형 데이터베이스에 비해 빠르게 데이터를 반환할 수 있다.
  - 관계형 데이터베이스의 경우 특정 테이블에서 데이터를 가져오기 위해서는 디스크에 직접 접근해야한다.
  - 반면 레디스는 메모리 기반으로 데이터를 저장하고 있어, 디스크 접근 없이 빠르게 데이터를 읽고 쓸 수 있다.

    - 캐시로서 레디스는 메모리 기반의 데이터 저장소로, 빠른 읽기/쓰기 속도를 제공한다.
    - 레디스는 다양한 데이터 구조를 지원하며, TTL(Time To Live) 설정을 통해 자동으로 만료되는 캐시를 구현할 수 있다.
    - 레디스는 분산 캐시 시스템으로도 사용될 수 있어, 여러 서버 간에 캐시 데이터를 공유할 수 있다.

> [나무위키 > 캐시](https://namu.wiki/w/%EC%BA%90%EC%8B%9C)
> [📚 캐시(Cache) 설계 전략 지침 💯 총정리](https://inpa.tistory.com/entry/REDIS-%F0%9F%93%9A-%EC%BA%90%EC%8B%9CCache-%EC%84%A4%EA%B3%84-%EC%A0%84%EB%9E%B5-%EC%A7%80%EC%B9%A8-%EC%B4%9D%EC%A0%95%EB%A6%AC)